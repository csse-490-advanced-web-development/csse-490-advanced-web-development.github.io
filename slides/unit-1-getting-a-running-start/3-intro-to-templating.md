# CSSE-490: Advanced Web Development
### Week 1: Getting a Running Start

## Intro to Templates and Forms
## +
## Project Team Formation


---

Suggested chapters of the book for Lab 1:

* Ch 3. Templates
* Ch 4. Web Forms
* Ch 7. Large Application Structure
* Ch 15. Testing

---

## Intro to Templates
### Jinja

Jinja has all the normal templating things- variables, control structures, etc.

The [Jinja Docs](https://jinja.palletsprojects.com/en/3.0.x/) are extensive.

### General File Structure:
<br>
<pre style="margin-left: 1em;">
brocker-lab-1/
├─ simple_photo_processor.py
├─ static/
│  ├─ css/
│     ├─ main.css
│  ├─ images/
│     ├─ favicon.png
│  ├─ js/
│     ├─ main.js
├─ templates/
│  ├─ index.html
│  ├─ upload.html
</pre>


---
layout: two-cols
---

## Intro to Templates

### Example with variables, layouts, etc

`hello.py`:
```
from flask import Flask, render_template
...
@app.route('/')
def index():
    return render_template('index.html',
    name="Eliza")

@app.route('/simple_photo_processor')
def upload():
    return render_template('upload.html')

```

`templates/index.html`:
```
{% extends 'layout.html' %}

{% block content %}
<p>
  Would you like to try the
  <a href="{{ url_for('upload') }}">Simple Photo Processor</a>
  I've been working on?
</p>
{% endblock %}

```

::right::

<br>
<br>
<br>

`templates/layout.html`:
```
<!doctype html>
<html lang="en">

<head>
  ...
  <title>Simple Photo Processor</title>
  ...
</head>

<body>
  <div class="container">
    {% block content %}
    {% endblock %}
  </div>
</body>

</html>
```

---

## FYI on flask-bootstrap

The version in the book is way out of date.  If you want to use Bootstrap 5, you'll need to use [Flask-BS4](https://pypi.org/project/Flask-BS4/).

I personally don't care for bootstrap, so I'm going to use [Primitive UI](https://taniarascia.github.io/primitive/) in the labs.

---

## Intro to Forms

The book uses [flask-wtf](https://flask-wtf.readthedocs.io/en/0.15.x/), which has great docs.

The most notable thing about flask-wtf (other than the delightful name and its use of classes to implement forms) is that it may be your first exposure to CSRF.


## CSRF == Cross-Site Request Forgery
<br>


> **CSRF Defenses Strategies**
>
> Now you should have a better understanding of how a CSRF attack happens. Let's take a look at how you can prevent them in your applications. Basically, you have two strategies:
>
> 1. Making sure that the request you're receiving is valid, i.e., it comes from a form generated by the server.
> 2. Making sure that the request comes from a legitimate client.
>
> -- Source: [Auth0 Blog: Prevent Cross-Site Request Forgery (CSRF) Attacks](https://auth0.com/blog/cross-site-request-forgery-csrf/)

---

## Let's talk projects


[Project signup sheet](https://docs.google.com/spreadsheets/d/17FoOmJk-xgyoKU9j8y0d_1qRmBEun5ZohD0vRO0hmB8/edit?usp=sharing)
